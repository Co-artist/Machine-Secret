# 修复齿轮旋转轴方向

## 🔧 问题

齿轮的旋转方向与想要的旋转方向垂直，说明齿轮绕错了轴旋转。

## ✅ 解决方案

已更新代码，添加了 `Rotation Axis` 参数来选择旋转轴。

---

## 🎯 快速修复方法

### 方法1：在Inspector中设置旋转轴（推荐）

1. **选择齿轮对象**
   - 在Hierarchy中选择齿轮对象

2. **找到Gear脚本**
   - 在Inspector中找到 `Gear (Script)` 组件

3. **设置Rotation Axis**
   - 在 `旋转轴设置` 部分
   - 找到 `Rotation Axis` 下拉菜单
   - 选择正确的轴：
     - **X** - 绕X轴旋转（前后旋转）
     - **Y** - 绕Y轴旋转（上下旋转）
     - **Z** - 绕Z轴旋转（左右旋转，默认）

4. **测试**
   - 运行游戏
   - 检查旋转方向是否正确

---

### 方法2：手动设置HingeJoint的Axis

1. **选择齿轮对象**

2. **找到Hinge Joint组件**
   - 在Inspector中，找到 `Hinge Joint` 组件

3. **修改Axis字段**
   - 找到 `Axis` 字段
   - 根据需要的旋转方向设置：
     - **绕X轴旋转**：X: 1, Y: 0, Z: 0
     - **绕Y轴旋转**：X: 0, Y: 1, Z: 0
     - **绕Z轴旋转**：X: 0, Y: 0, Z: 1

4. **测试**
   - 运行游戏检查

---

## 📋 详细操作步骤

### 使用Rotation Axis参数（最简单）

#### 步骤1：选择齿轮

1. **在Hierarchy中找到齿轮**
   - 展开场景对象
   - 找到齿轮对象

2. **选择齿轮**
   - 点击选择齿轮对象

#### 步骤2：查看Gear脚本

1. **在Inspector中查看**
   - 应该能看到 `Gear (Script)` 组件

2. **展开旋转轴设置**
   - 在 `旋转轴设置` 部分
   - 应该能看到：
     - **Rotation Axis** ← 新添加的参数

#### 步骤3：选择旋转轴

1. **点击Rotation Axis下拉菜单**
   - 会显示三个选项：
     - X
     - Y
     - Z

2. **选择正确的轴**
   - 根据齿轮的朝向选择：
     - 如果齿轮应该**水平旋转**（像轮子一样），选择 **Z**
     - 如果齿轮应该**垂直旋转**（像风车一样），选择 **Y**
     - 如果齿轮应该**前后旋转**，选择 **X**

3. **运行游戏测试**
   - 点击Play按钮
   - 观察齿轮旋转方向
   - 如果方向正确，完成！
   - 如果方向仍然不对，尝试其他轴

---

## 🔍 如何判断应该选择哪个轴

### 观察齿轮的朝向

1. **在Scene视图中查看齿轮**
   - 观察齿轮的朝向
   - 确定它应该绕哪个轴旋转

2. **常见的齿轮朝向**：

   **水平齿轮（像轮子）**：
   - 齿轮平放在地面上
   - 应该绕Z轴旋转（Rotation Axis = Z）
   - 这是最常见的设置

   **垂直齿轮（像风车）**：
   - 齿轮竖立放置
   - 应该绕Y轴旋转（Rotation Axis = Y）

   **侧向齿轮**：
   - 齿轮侧向放置
   - 应该绕X轴旋转（Rotation Axis = X）

---

## 📐 旋转轴说明

### Unity坐标系

- **X轴**：红色，左右方向
- **Y轴**：绿色，上下方向
- **Z轴**：蓝色，前后方向

### 旋转轴对应关系

- **绕X轴旋转**：物体前后旋转（像翻跟头）
- **绕Y轴旋转**：物体上下旋转（像旋转木马）
- **绕Z轴旋转**：物体左右旋转（像轮子）

---

## 🎯 常见问题

### 问题1：齿轮不旋转

**检查**：
1. Auto Rotate是否勾选
2. 齿轮是否被激活
3. Motor Force是否足够大

### 问题2：旋转轴设置后仍然不对

**解决**：
1. 尝试其他旋转轴（X, Y, Z）
2. 检查齿轮模型的朝向
3. 可能需要旋转齿轮对象本身（在Transform中调整Rotation）

### 问题3：多个齿轮需要不同的旋转轴

**解决**：
1. 为每个齿轮单独设置Rotation Axis
2. 根据每个齿轮的朝向选择正确的轴

---

## 🔧 手动设置HingeJoint Axis

如果使用Rotation Axis参数不工作，可以手动设置：

### 步骤1：选择齿轮

1. **在Hierarchy中选择齿轮对象**

### 步骤2：找到Hinge Joint组件

1. **在Inspector中**
   - 找到 `Hinge Joint` 组件
   - 展开组件（如果折叠了）

### 步骤3：修改Axis

1. **找到Axis字段**
   - 显示为三个数值：X, Y, Z

2. **设置轴方向**
   - **绕X轴旋转**：X: 1, Y: 0, Z: 0
   - **绕Y轴旋转**：X: 0, Y: 1, Z: 0
   - **绕Z轴旋转**：X: 0, Y: 0, Z: 1

3. **测试**
   - 运行游戏检查

---

## 📝 代码说明

### 新增功能

代码中添加了 `rotationAxis` 参数：

```csharp
[SerializeField] private RotationAxis rotationAxis = RotationAxis.Z;
```

### 工作原理

- 根据选择的轴，自动设置HingeJoint的Axis
- 支持X、Y、Z三个轴
- 默认是Z轴（水平旋转）

---

## ✅ 快速修复清单

- [ ] 选择齿轮对象
- [ ] 在Gear脚本中找到 `Rotation Axis` 下拉菜单
- [ ] 选择正确的轴（X, Y, 或 Z）
- [ ] 运行游戏测试
- [ ] 如果方向正确，完成！
- [ ] 如果方向仍然不对，尝试其他轴或手动设置HingeJoint Axis

---

## 🎮 测试方法

1. **运行游戏**
   - 点击Play按钮

2. **观察齿轮**
   - 如果Auto Rotate已勾选，齿轮应该自动旋转
   - 检查旋转轴是否正确

3. **调整轴**
   - 如果轴不对，修改Rotation Axis
   - 再次测试

4. **确认**
   - 轴正确后，保存场景

---

## 💡 提示

- **大多数齿轮**应该使用 **Z轴**（水平旋转）
- 如果齿轮竖立放置，可能需要 **Y轴**
- 如果齿轮侧向放置，可能需要 **X轴**
- 可以尝试所有三个轴，找到正确的

---

**按照上述步骤操作，齿轮旋转轴就能修复了！** ✅

