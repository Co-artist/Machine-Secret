# GitHub同步指南

## 📋 准备工作

### 1. 检查Git是否已安装

在PowerShell或命令提示符中运行：
```bash
git --version
```

如果未安装，请先安装Git：
- 下载地址：https://git-scm.com/download/win
- 安装后重启终端

### 2. 配置Git用户信息（如果还未配置）

```bash
git config --global user.name "你的名字"
git config --global user.email "你的邮箱"
```

---

## 🚀 同步步骤

### 步骤1：初始化Git仓库

在项目根目录（`C:\Users\zzh66\Desktop\Game`）打开PowerShell或命令提示符，运行：

```bash
git init
```

### 步骤2：检查.gitignore文件

项目已经有`.gitignore`文件，但需要确保它包含所有Unity需要忽略的文件。

如果`.gitignore`不完整，可以更新它（见下方"更新.gitignore"部分）。

### 步骤3：添加所有文件到Git

```bash
git add .
```

### 步骤4：创建初始提交

```bash
git commit -m "初始提交：机械之谜游戏项目"
```

### 步骤5：在GitHub上创建仓库

1. 登录GitHub：https://github.com
2. 点击右上角的"+"按钮，选择"New repository"
3. 填写仓库信息：
   - Repository name: `Game` 或 `Mechanical-Puzzle-Game`
   - Description: `Unity机械谜题游戏项目`
   - 选择 Public 或 Private
   - **不要**勾选"Initialize this repository with a README"（因为本地已有文件）
4. 点击"Create repository"

### 步骤6：连接本地仓库到GitHub

复制GitHub仓库的URL（例如：`https://github.com/你的用户名/Game.git`），然后运行：

```bash
git remote add origin https://github.com/你的用户名/Game.git
```

**注意**：将`你的用户名`替换为你的GitHub用户名，`Game`替换为你的仓库名。

### 步骤7：推送代码到GitHub

```bash
git branch -M main
git push -u origin main
```

如果提示输入用户名和密码：
- 用户名：你的GitHub用户名
- 密码：使用Personal Access Token（不是GitHub密码）

#### 如何创建Personal Access Token：

1. 登录GitHub
2. 点击右上角头像 -> Settings
3. 左侧菜单选择 "Developer settings"
4. 选择 "Personal access tokens" -> "Tokens (classic)"
5. 点击 "Generate new token" -> "Generate new token (classic)"
6. 填写信息：
   - Note: `Unity项目同步`
   - Expiration: 选择过期时间（建议90天或更长）
   - 勾选 `repo` 权限
7. 点击 "Generate token"
8. **复制生成的token**（只显示一次，请保存好）
9. 在推送时，密码处输入这个token

---

## 🔄 后续更新同步

每次修改代码后，使用以下命令同步到GitHub：

```bash
# 1. 查看修改的文件
git status

# 2. 添加修改的文件
git add .

# 3. 提交修改
git commit -m "描述你的修改内容"

# 4. 推送到GitHub
git push
```

---

## 📝 更新.gitignore文件

如果`.gitignore`文件不完整，可以使用以下内容：

```gitignore
# Unity generated files
[Ll]ibrary/
[Tt]emp/
[Oo]bj/
[Bb]uild/
[Bb]uilds/
[Ll]ogs/
[Uu]ser[Ss]ettings/

# Unity cache
*.pidb
*.booproj
*.svd
*.pdb
*.mdb
*.opendb
*.VC.db

# Unity3D generated meta files
*.pidb.meta
*.pdb.meta
*.mdb.meta

# Unity3D generated file on crash reports
sysinfo.txt

# Builds
*.apk
*.aab
*.unitypackage
*.app

# Visual Studio cache directory
.vs/
.gradle/

# Autogenerated VS/MD/Consulo solution and project files
ExportedObj/
.consulo/
*.csproj
*.unityproj
*.sln
*.suo
*.tmp
*.user
*.userprefs

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db
Desktop.ini

# Asset store tools
[Aa]ssets/AssetStoreTools*

# Autogenerated Jetbrains Rider plugin
.idea/

# 项目特定文件
*.jpg
*.png
!Assets/**/*.png
!Assets/**/*.jpg
IMG_*.jpg
屏幕截图*.png
```

---

## ⚠️ 注意事项

### 1. 不要提交的文件

以下文件/文件夹会被`.gitignore`自动忽略，不会上传到GitHub：
- `Library/` - Unity库文件（自动生成）
- `Temp/` - 临时文件
- `Logs/` - 日志文件
- `UserSettings/` - 用户设置（个人配置）
- `Build/` - 构建输出
- `*.meta` - Unity会自动生成，但`.meta`文件**应该**提交

### 2. 应该提交的文件

- `Assets/` - 所有资源文件
- `ProjectSettings/` - 项目设置
- `Packages/` - 包配置
- `*.cs` - 所有脚本文件
- `*.meta` - Unity的meta文件（**必须提交**）
- `README.md` - 项目说明
- 所有文档文件（`.md`）

### 3. 大文件处理

如果项目中有大文件（>100MB），GitHub可能拒绝推送。建议：
- 使用Git LFS（Large File Storage）
- 或将大文件存储在外部，不提交到Git

---

## 🆘 常见问题

### 问题1：推送时提示"Authentication failed"

**解决**：
- 使用Personal Access Token而不是密码
- 确保token有`repo`权限

### 问题2：推送时提示"remote: Repository not found"

**解决**：
- 检查仓库URL是否正确
- 确保仓库名称正确
- 确保有仓库的访问权限

### 问题3：推送时提示"large files"

**解决**：
- 检查`.gitignore`是否包含大文件
- 使用`git rm --cached 文件名`移除已跟踪的大文件
- 或使用Git LFS

### 问题4：冲突问题

**解决**：
```bash
# 拉取远程更改
git pull origin main

# 解决冲突后
git add .
git commit -m "解决冲突"
git push
```

---

## 📚 快速命令参考

```bash
# 初始化仓库
git init

# 添加所有文件
git add .

# 提交
git commit -m "提交信息"

# 添加远程仓库
git remote add origin https://github.com/用户名/仓库名.git

# 推送到GitHub
git push -u origin main

# 查看状态
git status

# 查看提交历史
git log

# 拉取远程更改
git pull

# 查看远程仓库
git remote -v
```

---

## ✅ 检查清单

同步前检查：

- [ ] Git已安装并配置
- [ ] GitHub账号已创建
- [ ] 已在GitHub创建仓库
- [ ] `.gitignore`文件已更新
- [ ] 已创建Personal Access Token
- [ ] 已初始化本地Git仓库
- [ ] 已添加远程仓库
- [ ] 已成功推送代码

---

**按照上述步骤操作，你的项目就能成功同步到GitHub了！** 🎉

