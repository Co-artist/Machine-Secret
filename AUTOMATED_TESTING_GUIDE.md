# 自动化测试工具使用指南

## 🎯 功能说明

`GameTester.cs` 是一个自动化测试工具，可以自动测试游戏的各种功能：

1. ✅ **场景测试** - 检查所有场景是否存在
2. ✅ **资源测试** - 检查材质和文件夹是否存在
3. ✅ **标签测试** - 检查所有必需的标签是否已设置
4. ✅ **GameManager测试** - 检查GameManager配置是否正确
5. ✅ **预制体测试** - 检查预制体及其组件
6. ✅ **物理系统测试** - 检查物理设置

---

## 🚀 快速使用

### 方法1：运行所有测试（推荐）

1. **打开工具**
   ```
   Tools -> 游戏测试工具 -> 运行自动化测试
   ```

2. **点击按钮**
   - 点击窗口中的 **"开始自动化测试"** 按钮

3. **查看结果**
   - 工具会自动运行所有测试
   - 在窗口底部查看测试结果
   - 在Console窗口查看详细日志

---

### 方法2：单独运行某个测试

如果只需要测试某个特定功能：

1. **打开工具**
   ```
   Tools -> 游戏测试工具 -> 运行自动化测试
   ```

2. **点击对应的按钮**
   - **测试场景** - 只测试场景
   - **测试资源** - 只测试资源
   - **测试标签** - 只测试标签
   - **测试GameManager** - 只测试GameManager配置

---

## 📋 测试内容详解

### 1. 场景测试

测试以下场景是否存在：
- ✅ `Assets/Scenes/MainMenu.unity`
- ✅ `Assets/Scenes/Gameplay.unity`
- ✅ `Assets/Scenes/LevelEditor.unity`

### 2. 资源测试

测试以下资源是否存在：
- ✅ 材质（GearMaterial, LeverMaterial, SpringMaterial, BallMaterial, GroundMaterial）
- ✅ 文件夹（Materials, UI, Scenes, Prefabs）

### 3. 标签测试

测试以下标签是否已设置：
- ✅ Ball
- ✅ Goal
- ✅ Checkpoint
- ✅ Hazard

### 4. GameManager测试

测试以下配置：
- ✅ GameManager对象是否存在
- ✅ Ball Prefab是否已配置
- ✅ Ball Start Position是否已配置
- ✅ Ground对象是否存在
- ✅ Goal对象是否存在
- ✅ Goal标签是否正确
- ✅ Goal Collider是否设置为Trigger
- ✅ BallStartPoint是否存在
- ✅ Canvas是否存在

### 5. 预制体测试

测试以下预制体及其组件：
- ✅ Gear预制体及其组件（Rigidbody, HingeJoint, Gear）
- ✅ Lever预制体
- ✅ Spring预制体
- ✅ Ball预制体及其组件（Rigidbody, SphereCollider, BallController）
  - 检查Use Gravity是否启用

### 6. 物理系统测试

测试以下内容：
- ✅ 物理系统是否初始化
- ✅ 重力设置
- ✅ Ball物理设置
- ✅ Ground Collider

---

## 📊 测试结果说明

### 结果类型

- **✓ 绿色** - 测试通过
- **✗ 红色** - 测试失败
- **⚠ 黄色** - 警告（非关键问题）

### 查看结果

1. **在工具窗口中**
   - 滚动到底部查看测试结果
   - 每个结果都有颜色标识

2. **在Console窗口中**
   - 查看详细的测试日志
   - 错误和警告会高亮显示

---

## 🔧 使用场景

### 场景1：首次设置后验证

运行自动设置工具后，使用测试工具验证：

1. 运行自动设置工具
2. 运行自动化测试
3. 检查所有测试是否通过
4. 修复失败的测试项

### 场景2：定期检查

在开发过程中定期运行测试：

1. 修改配置后运行测试
2. 确保没有破坏现有功能
3. 及时发现配置问题

### 场景3：问题排查

遇到问题时运行测试：

1. 运行自动化测试
2. 查看失败的测试项
3. 根据错误信息修复问题

---

## 🎯 测试流程建议

### 完整测试流程

```
1. 运行自动设置工具
   ↓
2. 运行自动化测试
   ↓
3. 检查测试结果
   ↓
4. 修复失败的测试项
   ↓
5. 重新运行测试
   ↓
6. 所有测试通过后，手动测试游戏
```

---

## 🆘 常见问题

### 问题1：测试失败 - 场景不存在

**解决**：
- 运行自动设置工具创建场景
- 或手动创建场景

### 问题2：测试失败 - 预制体不存在

**解决**：
- 运行资源生成器生成预制体
- 或手动创建预制体

### 问题3：测试失败 - GameManager未配置

**解决**：
- 打开Gameplay场景
- 配置GameManager的Ball Prefab和Ball Start Position

### 问题4：测试失败 - 标签未设置

**解决**：
- 运行标签设置工具
- 或手动添加标签

---

## 📝 测试报告

测试完成后，工具会显示：

- **通过数量** - 通过的测试数量
- **失败数量** - 失败的测试数量
- **详细结果** - 每个测试项的详细结果

---

## ✅ 测试检查清单

运行测试后，确保：

- [ ] 所有场景测试通过
- [ ] 所有资源测试通过
- [ ] 所有标签测试通过
- [ ] GameManager配置正确
- [ ] 所有预制体测试通过
- [ ] 物理系统测试通过

---

**使用自动化测试工具可以快速验证游戏配置是否正确！** ✅

